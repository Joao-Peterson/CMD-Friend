<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMD Friend: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CMD Friend
   &#160;<span id="projectnumber">1.1</span>
   </div>
   <div id="projectbrief">Simple command line arguments parser for C and C++ applications</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">CMD Friend Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md0"></a>
CMD_Friend - The Command line friend library!</h1>
<p>Simple command line arguments parser for C and C++ applications.</p>
<p>This library is made for C and C++ programs to parse command line options in the easiest way possible. Based heavily on the argp library of the GNU project.</p>
<p>TL;DR: Sources and include files are in <a href="./modules/cmd_friend">modules/cmd_friend</a>. Compile static .a and dynamic .dll libraries are in <a href="./modules/cmd_friend/lib">modules/cmd_friend/lib</a>. Make a <a class="el" href="structcmdf__option.html" title="defines a single option in command line.">cmdf_option</a> array for your options, make a parse function, call the main <a class="el" href="cmd__friend_8h.html#a5fc69897d078a0afcdca44a35c4bd61e" title="Main library function, used to parse options in main program. The &quot;cdmf_parse_options&quot; function will ...">cdmf_parse_options()</a> function.</p>
<p>Created by: Jo√£o Peterson Scheffer - 2020. Version: v1.2</p>
<p>Documentation generated by Doxygen, saved in <a href="./docs">docs</a> folder and hosted on <a href="https://joao-peterson.github.io/CMD-Friend/">Github pages</a>, click to redirect.</p>
<h3><a class="anchor" id="autotoc_md1"></a>
Compilation</h3>
<p>To compile this library simply compile the source with the header, no dependencies. Arquive if static compile or compile as shared and you can use in your projects, or as i like, compile the source into a object and link it with your main application.</p>
<h3><a class="anchor" id="autotoc_md2"></a>
Use</h3>
<p>To use, first you can define strings with default program information in you main function: </p><div class="fragment"><div class="line"><a class="code" href="cmd__friend_8c.html#ab14c8e1d80d178ce0e8e8a3936d1efec">set_cmdf_default_info_usage</a>(<span class="stringliteral">&quot;Usage: [-w,-o,-f] for project or [-M,-m] for module [FILEPATH] [OPTIONS...]&quot;</span>);</div>
<div class="line"><a class="code" href="cmd__friend_8c.html#abf1a7ca4f27b5cb7bb5d6420431131fe">set_cmdf_default_info_version</a>(<span class="stringliteral">&quot;v1.1 - 17/08/2020&quot;</span>);</div>
<div class="line"><a class="code" href="cmd__friend_8c.html#ab3f4268c8a19fb46f8efe86b51f104bb">set_cmdf_default_info_contact_info</a>(<span class="stringliteral">&quot;Repo: https://github.com/Joao-Peterson/CMD-Friend - Email: joco_zx@hotmail.com&quot;</span>);</div>
</div><!-- fragment --><p>Then make a array of options in your main aplication outside main(). Eg:</p>
<div class="fragment"><div class="line"><a class="code" href="structcmdf__option.html">cmdf_option</a> options[] = </div>
<div class="line">{</div>
<div class="line">    {<span class="stringliteral">&quot;where&quot;</span>,   <span class="charliteral">&#39;w&#39;</span>, 0,                                             1, <span class="stringliteral">&quot;Where to create the project&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;file&quot;</span>,    <span class="charliteral">&#39;f&#39;</span>, <a class="code" href="cmd__friend_8h.html#a64d7da8181d150cf20afae878cee0ecea4adbd1e70364982cd74ed0d787d4f299">OPTION_ALIAS</a> },</div>
<div class="line">    {<span class="stringliteral">&quot;tags&quot;</span>,    <span class="charliteral">&#39;t&#39;</span>, <a class="code" href="cmd__friend_8h.html#a64d7da8181d150cf20afae878cee0ecea4eaff09fbc7042cb05e653f98a5e2855">OPTION_OPTIONAL</a>,                              -1, <span class="stringliteral">&quot;Tags to put in&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;verbose&quot;</span>, <span class="charliteral">&#39;v&#39;</span>, <a class="code" href="cmd__friend_8h.html#a64d7da8181d150cf20afae878cee0ecea4eaff09fbc7042cb05e653f98a5e2855">OPTION_OPTIONAL</a> | <a class="code" href="cmd__friend_8h.html#a64d7da8181d150cf20afae878cee0ecea4119b7b7c9b2675f3d2b945647dbcb51">OPTION_NO_LONG_KEY</a>,          0, <span class="stringliteral">&quot;Verbose mode&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;Wall&quot;</span>,    <span class="charliteral">&#39;W&#39;</span>, <a class="code" href="cmd__friend_8h.html#a64d7da8181d150cf20afae878cee0ecea4eaff09fbc7042cb05e653f98a5e2855">OPTION_OPTIONAL</a>,                               0, <span class="stringliteral">&quot;Wall error mode&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;vscode&quot;</span>,   VSCODE_KEY, <a class="code" href="cmd__friend_8h.html#a64d7da8181d150cf20afae878cee0ecea4eaff09fbc7042cb05e653f98a5e2855">OPTION_OPTIONAL</a> | <a class="code" href="cmd__friend_8h.html#a64d7da8181d150cf20afae878cee0eceac384efc68e4a8b3c0a72b5ea15999d90">OPTION_NO_CHAR_KEY</a>,  0, <span class="stringliteral">&quot;Visual studio code .vscode folder with .json configuration files&quot;</span>},</div>
<div class="line">    {0}</div>
<div class="line">};</div>
</div><!-- fragment --><p>Define a struct of your flavor that hold flags and variables associated with your options, these will be used later in your main aplication. Eg:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>arguments_info</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">char</span> *filepath_project;         <span class="comment">// filepath to generte template project</span></div>
<div class="line">    <span class="keywordtype">int</span> tags;                       <span class="comment">// int that has bitwise tags</span></div>
<div class="line">    <span class="keywordtype">int</span> verbose_enable;             <span class="comment">// flag that indicates if the program will print to console</span></div>
<div class="line">    <span class="keywordtype">int</span> wall_enable;                <span class="comment">// flag that indicates if the program will use wall commands</span></div>
<div class="line">    <span class="keywordtype">int</span> generate_vscode_folder;     <span class="comment">// flag that indicates to generate a vscode folder with .json configuration files</span></div>
<div class="line">};</div>
</div><!-- fragment --><p>Then define a parser function for your options. It should contain a cast to your custom struct and a switch case with cases for your options. Eg:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> parse_options(<span class="keywordtype">char</span> key, <span class="keywordtype">char</span> *arg, <span class="keywordtype">int</span> arg_pos, <span class="keywordtype">void</span> *extern_user_variables_struct)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">struct </span>arguments_info *myvariables = (<span class="keyword">struct </span>arguments_info*)extern_user_variables_struct; <span class="comment">// retrieving custom struct by casting</span></div>
<div class="line">    <span class="keywordtype">long</span> <span class="keywordtype">int</span> tag_bit;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">switch</span> (key)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>: <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:                             <span class="comment">// --where, --output, --folder </span></div>
<div class="line">            myvariables-&gt;filepath_project = arg;</div>
<div class="line">            printf(<span class="stringliteral">&quot;[ARG] Argument \&quot;%s\&quot; for key -%c .\n&quot;</span>,arg,key);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:                                       <span class="comment">// --tags</span></div>
<div class="line">            <span class="keywordflow">if</span>((tag_bit = strtol(arg, NULL, 10)) &gt; INT_MAX)</div>
<div class="line">            {</div>
<div class="line">                printf(<span class="stringliteral">&quot;[ARG] Argument \&quot;%s\&quot; for key -%c needs to be smaller than %ld.\n&quot;</span>,arg,key,INT_MAX);</div>
<div class="line">                exit(1);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">                myvariables-&gt;tags |= tag_bit;                </div>
<div class="line">            </div>
<div class="line">            printf(<span class="stringliteral">&quot;[ARG] Number \&quot;%X\&quot; for key -%c .\n&quot;</span>,tag_bit,key);</div>
<div class="line">            </div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span>:                                       <span class="comment">// --verbose</span></div>
<div class="line">            printf(<span class="stringliteral">&quot;[ARG] verbose\n&quot;</span>);</div>
<div class="line">            myvariables-&gt;verbose_enable = 1;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">case</span> <span class="charliteral">&#39;W&#39;</span>:                                       <span class="comment">// --Wall</span></div>
<div class="line">            myvariables-&gt;wall_enable = 1;</div>
<div class="line">            printf(<span class="stringliteral">&quot;[ARG] Wall\n&quot;</span>);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> VSCODE_KEY:                                <span class="comment">// --vscode</span></div>
<div class="line">            myvariables-&gt;generate_vscode_folder = 1;</div>
<div class="line">            printf(<span class="stringliteral">&quot;[ARG] VSCODE!\n&quot;</span>);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">case</span> 0:                                         </div>
<div class="line">            printf(<span class="stringliteral">&quot;[ARG] Case 0 hapenned! Key: -%c Arg: %s\n&quot;</span>,key,arg);</div>
<div class="line">            <span class="keywordflow">break</span>;                          </div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">default</span>: </div>
<div class="line">            printf(<span class="stringliteral">&quot;[ARG] Case default hapenned! Key: -%c Arg: %s\n&quot;</span>,key,arg);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Finally you can call the main library function and then use your processed flags and variables in your custom struct as you desire. Eg:</p>
<div class="fragment"><div class="line"><a class="code" href="cmd__friend_8c.html#ac1d29ea88442523c121c2fd040ec28c3">cdmf_parse_options</a>(options, parse_options, argc, argv, <a class="code" href="cmd__friend_8h.html#ae357a1b19931e4923fc3268269ff161fa6f929b9762b06a88fa0c219d7d904877">PARSER_FLAG_PRINT_ERRORS_STDOUT</a> | <a class="code" href="cmd__friend_8h.html#ae357a1b19931e4923fc3268269ff161fa2aefd0d45397c70d81be49257964cd0e">PARSER_FLAG_USE_PREDEFINED_OPTIONS</a> | <a class="code" href="cmd__friend_8h.html#ae357a1b19931e4923fc3268269ff161faf627cef588121afd42e978c97637ac14">PARSER_FLAG_DONT_IGNORE_NON_REGISTERED_OPTIONS</a>, &amp;myvars);</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="acmd__friend_8h_html_ae357a1b19931e4923fc3268269ff161fa2aefd0d45397c70d81be49257964cd0e"><div class="ttname"><a href="cmd__friend_8h.html#ae357a1b19931e4923fc3268269ff161fa2aefd0d45397c70d81be49257964cd0e">PARSER_FLAG_USE_PREDEFINED_OPTIONS</a></div><div class="ttdeci">@ PARSER_FLAG_USE_PREDEFINED_OPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="cmd__friend_8h_source.html#l00200">cmd_friend.h:199</a></div></div>
<div class="ttc" id="acmd__friend_8c_html_abf1a7ca4f27b5cb7bb5d6420431131fe"><div class="ttname"><a href="cmd__friend_8c.html#abf1a7ca4f27b5cb7bb5d6420431131fe">set_cmdf_default_info_version</a></div><div class="ttdeci">void set_cmdf_default_info_version(const char *info_string)</div><div class="ttdoc">Set default value of cmdf_default_info_version.</div><div class="ttdef"><b>Definition:</b> <a href="cmd__friend_8c_source.html#l00521">cmd_friend.c:521</a></div></div>
<div class="ttc" id="acmd__friend_8h_html_ae357a1b19931e4923fc3268269ff161fa6f929b9762b06a88fa0c219d7d904877"><div class="ttname"><a href="cmd__friend_8h.html#ae357a1b19931e4923fc3268269ff161fa6f929b9762b06a88fa0c219d7d904877">PARSER_FLAG_PRINT_ERRORS_STDOUT</a></div><div class="ttdeci">@ PARSER_FLAG_PRINT_ERRORS_STDOUT</div><div class="ttdef"><b>Definition:</b> <a href="cmd__friend_8h_source.html#l00196">cmd_friend.h:196</a></div></div>
<div class="ttc" id="acmd__friend_8h_html_a64d7da8181d150cf20afae878cee0eceac384efc68e4a8b3c0a72b5ea15999d90"><div class="ttname"><a href="cmd__friend_8h.html#a64d7da8181d150cf20afae878cee0eceac384efc68e4a8b3c0a72b5ea15999d90">OPTION_NO_CHAR_KEY</a></div><div class="ttdeci">@ OPTION_NO_CHAR_KEY</div><div class="ttdef"><b>Definition:</b> <a href="cmd__friend_8h_source.html#l00182">cmd_friend.h:182</a></div></div>
<div class="ttc" id="acmd__friend_8h_html_ae357a1b19931e4923fc3268269ff161faf627cef588121afd42e978c97637ac14"><div class="ttname"><a href="cmd__friend_8h.html#ae357a1b19931e4923fc3268269ff161faf627cef588121afd42e978c97637ac14">PARSER_FLAG_DONT_IGNORE_NON_REGISTERED_OPTIONS</a></div><div class="ttdeci">@ PARSER_FLAG_DONT_IGNORE_NON_REGISTERED_OPTIONS</div><div class="ttdef"><b>Definition:</b> <a href="cmd__friend_8h_source.html#l00198">cmd_friend.h:198</a></div></div>
<div class="ttc" id="astructcmdf__option_html"><div class="ttname"><a href="structcmdf__option.html">cmdf_option</a></div><div class="ttdoc">defines a single option in command line.</div><div class="ttdef"><b>Definition:</b> <a href="cmd__friend_8h_source.html#l00226">cmd_friend.h:227</a></div></div>
<div class="ttc" id="acmd__friend_8c_html_ab3f4268c8a19fb46f8efe86b51f104bb"><div class="ttname"><a href="cmd__friend_8c.html#ab3f4268c8a19fb46f8efe86b51f104bb">set_cmdf_default_info_contact_info</a></div><div class="ttdeci">void set_cmdf_default_info_contact_info(const char *info_string)</div><div class="ttdoc">Set default value of cmdf_default_info_contact.</div><div class="ttdef"><b>Definition:</b> <a href="cmd__friend_8c_source.html#l00531">cmd_friend.c:531</a></div></div>
<div class="ttc" id="acmd__friend_8h_html_a64d7da8181d150cf20afae878cee0ecea4adbd1e70364982cd74ed0d787d4f299"><div class="ttname"><a href="cmd__friend_8h.html#a64d7da8181d150cf20afae878cee0ecea4adbd1e70364982cd74ed0d787d4f299">OPTION_ALIAS</a></div><div class="ttdeci">@ OPTION_ALIAS</div><div class="ttdef"><b>Definition:</b> <a href="cmd__friend_8h_source.html#l00180">cmd_friend.h:180</a></div></div>
<div class="ttc" id="acmd__friend_8h_html_a64d7da8181d150cf20afae878cee0ecea4119b7b7c9b2675f3d2b945647dbcb51"><div class="ttname"><a href="cmd__friend_8h.html#a64d7da8181d150cf20afae878cee0ecea4119b7b7c9b2675f3d2b945647dbcb51">OPTION_NO_LONG_KEY</a></div><div class="ttdeci">@ OPTION_NO_LONG_KEY</div><div class="ttdef"><b>Definition:</b> <a href="cmd__friend_8h_source.html#l00183">cmd_friend.h:183</a></div></div>
<div class="ttc" id="acmd__friend_8c_html_ac1d29ea88442523c121c2fd040ec28c3"><div class="ttname"><a href="cmd__friend_8c.html#ac1d29ea88442523c121c2fd040ec28c3">cdmf_parse_options</a></div><div class="ttdeci">int cdmf_parse_options(cmdf_option *registered_options, option_parse_function user_parse_function, int argc, char **argv, PARSER_FLAGS_Typedef flags, void *extern_user_variables_struct)</div><div class="ttdoc">Main library function, used to parse options in main program. The &quot;cdmf_parse_options&quot; function will ...</div><div class="ttdef"><b>Definition:</b> <a href="cmd__friend_8c_source.html#l00549">cmd_friend.c:549</a></div></div>
<div class="ttc" id="acmd__friend_8h_html_a64d7da8181d150cf20afae878cee0ecea4eaff09fbc7042cb05e653f98a5e2855"><div class="ttname"><a href="cmd__friend_8h.html#a64d7da8181d150cf20afae878cee0ecea4eaff09fbc7042cb05e653f98a5e2855">OPTION_OPTIONAL</a></div><div class="ttdeci">@ OPTION_OPTIONAL</div><div class="ttdef"><b>Definition:</b> <a href="cmd__friend_8h_source.html#l00181">cmd_friend.h:181</a></div></div>
<div class="ttc" id="acmd__friend_8c_html_ab14c8e1d80d178ce0e8e8a3936d1efec"><div class="ttname"><a href="cmd__friend_8c.html#ab14c8e1d80d178ce0e8e8a3936d1efec">set_cmdf_default_info_usage</a></div><div class="ttdeci">void set_cmdf_default_info_usage(const char *info_string)</div><div class="ttdoc">Set default value of cmdf_default_info_usage.</div><div class="ttdef"><b>Definition:</b> <a href="cmd__friend_8c_source.html#l00511">cmd_friend.c:511</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
